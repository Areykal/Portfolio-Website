import{j as r,F as x,d as E,e as R}from"./index-CZboC-rk.js";import{r as m}from"./vendor-BqK2eT3h.js";class f{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const L=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:L()},p=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},T=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=p(e);i.publicKey=s.publicKey,i.blockHeadless=s.blockHeadless,i.storageProvider=s.storageProvider,i.blockList=s.blockList,i.limitRate=s.limitRate,i.origin=s.origin||t},y=async(e,t,s={})=>{const o=await fetch(i.origin+e,{method:"POST",headers:s,body:t}),a=await o.text(),n=new f(o.status,a);if(o.ok)return n;throw n},v=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},I=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},w=e=>e.webdriver||!e.languages||e.languages.length===0,j=()=>new f(451,"Unavailable For Headless Browser"),F=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},_=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},H=(e,t)=>e instanceof FormData?e.get(t):e[t],k=(e,t)=>{if(_(e))return!1;F(e.list,e.watchVariable);const s=H(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},S=()=>new f(403,"Forbidden"),V=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},M=async(e,t,s)=>{const o=Number(await s.get(e)||0);return t-Date.now()+o},N=async(e,t,s)=>{if(!t.throttle||!s)return!1;V(t.throttle,t.id);const o=t.id||e;return await M(o,t.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},P=()=>new f(429,"Too Many Requests"),C=async(e,t,s,o)=>{const a=p(o),n=a.publicKey||i.publicKey,u=a.blockHeadless||i.blockHeadless,b=a.storageProvider||i.storageProvider,d={...i.blockList,...a.blockList},h={...i.limitRate,...a.limitRate};return u&&w(navigator)?Promise.reject(j()):(v(n,e,t),I(s),s&&k(d,s)?Promise.reject(S()):await N(location.pathname,h,b)?Promise.reject(P()):y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},D=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},O=e=>typeof e=="string"?document.querySelector(e):e,K=async(e,t,s,o)=>{const a=p(o),n=a.publicKey||i.publicKey,u=a.blockHeadless||i.blockHeadless,b=i.storageProvider||a.storageProvider,d={...i.blockList,...a.blockList},h={...i.limitRate,...a.limitRate};if(u&&w(navigator))return Promise.reject(j());const l=O(s);v(n,e,t),D(l);const c=new FormData(l);return k(d,c)?Promise.reject(S()):await N(location.pathname,h,b)?Promise.reject(P()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",n),y("/api/v1.0/email/send-form",c))},q={init:T,send:C,sendForm:K,EmailJSResponseStatus:f},g={SERVICE_ID:"contact_service",TEMPLATE_ID:"contact_form",USER_ID:"XkphOYtOxulINxucK"},A=({inView:e})=>{const[t,s]=m.useState({name:"",email:"",message:""}),[o,a]=m.useState(!1),[n,u]=m.useState(null),b=m.useRef(),d=l=>{s({...t,[l.target.name]:l.target.value})},h=async l=>{l.preventDefault(),a(!0);try{await q.sendForm(g.SERVICE_ID,g.TEMPLATE_ID,b.current,g.USER_ID),u("success"),s({name:"",email:"",message:""})}catch(c){console.error("Error sending email:",c),u("error")}finally{a(!1)}};return r.jsxs("form",{ref:b,onSubmit:h,className:`max-w-lg mx-auto space-y-6 transition-all duration-1000 delay-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-300",children:"Name"}),r.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:d,required:!0,className:"block w-full px-3 py-2 mt-1 transition-all duration-300 border rounded-md shadow-sm text-slate-300 bg-slate-700 border-slate-600 focus:outline-none focus:ring-blue-500 focus:border-blue-500 hover:border-blue-400"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:d,required:!0,className:"block w-full px-3 py-2 mt-1 transition-all duration-300 border rounded-md shadow-sm text-slate-300 bg-slate-700 border-slate-600 focus:outline-none focus:ring-blue-500 focus:border-blue-500 hover:border-blue-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-300",children:"Message"}),r.jsx("textarea",{id:"message",name:"message",rows:"4",value:t.message,onChange:d,required:!0,className:"block w-full px-3 py-2 mt-1 transition-all duration-300 border rounded-md shadow-sm text-slate-300 bg-slate-700 border-slate-600 focus:outline-none focus:ring-blue-500 focus:border-blue-500 hover:border-blue-400"})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:o,className:"flex justify-center w-full px-4 py-2 text-sm font-medium transition-all duration-300 transform bg-blue-400 border border-transparent rounded-md shadow-sm text-slate-900 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 hover:-translate-y-1 hover:shadow-lg",children:o?"Sending...":"Send Message"})}),n==="success"&&r.jsx("div",{className:"text-green-400 animate-fadeIn",children:"Message sent successfully!"}),n==="error"&&r.jsx("div",{className:"text-red-400 animate-fadeIn",children:"Error sending message. Please try again later."})]})},U=()=>{const[e,t]=m.useState(!1),s=m.useRef(null);return m.useEffect(()=>{const o=new IntersectionObserver(([a])=>{a.isIntersecting&&(t(!0),o.unobserve(a.target))},{threshold:.1});return s.current&&o.observe(s.current),()=>{s.current&&o.unobserve(s.current)}},[]),r.jsx("div",{id:"contact-section",ref:s,className:"py-16 bg-slate-800",children:r.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[r.jsx("h2",{className:`mb-8 text-4xl font-bold text-center text-blue-400 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 -translate-y-10"}`,children:"Contact Me"}),r.jsxs("div",{className:"grid grid-cols-1 gap-12 md:grid-cols-2",children:[r.jsxs("div",{className:`transition-all duration-1000 delay-150 ${e?"opacity-100 translate-x-0":"opacity-0 -translate-x-10"}`,children:[r.jsx("p",{className:"mb-8 text-slate-300",children:"I'm always open to new opportunities, collaborations, or just a friendly chat about technology. Feel free to reach out using the form or through any of the contact methods listed below."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center text-slate-300",children:[r.jsx(x,{icon:E,className:"mr-3 text-blue-400"}),r.jsx("span",{children:"areykal.dev@gmail.com"})]}),r.jsxs("div",{className:"flex items-center text-slate-300",children:[r.jsx(x,{icon:R,className:"mr-3 text-blue-400"}),r.jsx("span",{children:"Phnom Penh, Cambodia"})]})]})]}),r.jsx("div",{children:r.jsx(A,{inView:e})})]})]})})};export{U as default};
